Архитектурная схема NewsHub
============================

┌─────────────────────────────────────────────────────────────────┐
│                         БРАУЗЕР (CLIENT)                        │
│                                                                 │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐         │
│  │   HTML/CSS   │  │ JavaScript  │  │   AJAX       │         │
│  │   Templates  │  │   (Vanilla) │  │  Requests    │         │
│  └──────────────┘  └──────────────┘  └──────────────┘         │
│                                                                 │
└────────────────────────────┬────────────────────────────────────┘
                             │
                             │ HTTP/HTTPS
                             │ GET, POST
                             │
┌────────────────────────────▼────────────────────────────────────┐
│                    DJANGO BACKEND                                │
│                                                                 │
│  ┌──────────────────────────────────────────────────────────┐ │
│  │                    URL ROUTING                             │ │
│  │  / → home()                                               │ │
│  │  /favorites/ → favorites()                                │ │
│  │  /api/toggle-favorite/ → toggle_favorite()                │ │
│  │  /api/add-reaction/ → add_reaction()                       │ │
│  │  /api/add-comment/ → add_comment()                         │ │
│  └──────────────────────────────────────────────────────────┘ │
│                                                                 │
│  ┌──────────────────────────────────────────────────────────┐ │
│  │                    VIEWS (Controllers)                    │ │
│  │  • home() - главная страница с новостями                 │ │
│  │  • favorites() - страница избранного                      │ │
│  │  • toggle_favorite() - API для избранного                │ │
│  │  • add_reaction() - API для реакций                      │ │
│  │  • add_comment() - API для комментариев                 │ │
│  └──────────────────────────────────────────────────────────┘ │
│                                                                 │
│  ┌──────────────────────────────────────────────────────────┐ │
│  │                    RSS PARSER                             │ │
│  │  • fetch_rss_news(category)                              │ │
│  │  • update_all_categories()                               │ │
│  └──────────────────────────────────────────────────────────┘ │
│                                                                 │
│  ┌──────────────────────────────────────────────────────────┐ │
│  │                    MODELS (ORM)                           │ │
│  │  • FavoriteArticle                                        │ │
│  │  • Comment                                                │ │
│  │  • Reaction                                               │ │
│  │  • RSSNews                                                │ │
│  └──────────────────────────────────────────────────────────┘ │
│                                                                 │
└────────────────────────────┬────────────────────────────────────┘
                             │
                             │ ORM Queries
                             │
┌────────────────────────────▼────────────────────────────────────┐
│                    DATABASE (SQLite)                             │
│                                                                 │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐         │
│  │   Users      │  │  Articles   │  │  Reactions   │         │
│  │   (Django)   │  │  (Favorites) │  │             │         │
│  └──────────────┘  └──────────────┘  └──────────────┘         │
│                                                                 │
│  ┌──────────────┐  ┌──────────────┐                           │
│  │  Comments    │  │  RSSNews     │                           │
│  │              │  │  (Cache)     │                           │
│  └──────────────┘  └──────────────┘                           │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
                             │
                             │ HTTP Requests
                             │
┌────────────────────────────▼────────────────────────────────────┐
│              EXTERNAL RSS FEED (Lenta.ru)                        │
│                                                                 │
│  https://lenta.ru/rss/news/...                                  │
│  • russia                                                       │
│  • world                                                        │
│  • economics                                                    │
│  • science                                                      │
│  • sport                                                        │
│  • culture                                                      │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘

ПОТОК ДАННЫХ:
=============

1. ЗАПРОС ГЛАВНОЙ СТРАНИЦЫ:
   Browser → Django (home view) → RSS Parser → Lenta.ru RSS
   ↓
   RSS Parser → Database (cache) → Django (home view) → Browser

2. ДОБАВЛЕНИЕ В ИЗБРАННОЕ:
   Browser (AJAX) → Django (toggle_favorite) → Database → Browser (JSON)

3. ДОБАВЛЕНИЕ РЕАКЦИИ:
   Browser (AJAX) → Django (add_reaction) → Database → Browser (JSON)

4. ДОБАВЛЕНИЕ КОММЕНТАРИЯ:
   Browser (AJAX) → Django (add_comment) → Database → Browser (JSON)

5. ПРОСМОТР ИЗБРАННОГО:
   Browser → Django (favorites view) → Database → Browser

КОМПОНЕНТЫ:
===========

1. BROWSER (CLIENT)
   - Отображает HTML/CSS интерфейс
   - Выполняет JavaScript для интерактивности
   - Отправляет AJAX-запросы для динамического обновления
   - Обрабатывает ответы от сервера

2. DJANGO BACKEND
   - URL Routing: маршрутизация запросов
   - Views: обработка бизнес-логики
   - Models: определение структуры данных
   - Templates: генерация HTML
   - RSS Parser: получение и парсинг новостей

3. DATABASE (SQLite)
   - Хранение пользователей (Django User model)
   - Хранение избранных статей
   - Хранение комментариев
   - Хранение реакций
   - Кеширование новостей из RSS

4. EXTERNAL RSS FEED
   - Источник новостей (Lenta.ru)
   - Предоставляет XML-данные в формате RSS
   - Доступен по различным категориям

ТЕХНОЛОГИИ:
===========

- Frontend: HTML5, CSS3, Vanilla JavaScript
- Backend: Python 3.14, Django 5.2.8
- Database: SQLite
- RSS Parsing: feedparser 6.0.12
- Template Engine: Django Templates
- AJAX: Fetch API (JavaScript)

